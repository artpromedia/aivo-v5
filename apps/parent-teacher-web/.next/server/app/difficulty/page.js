(()=>{var e={};e.id=471,e.ids=[471],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7213:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>h,tree:()=>c}),s(3317),s(8154),s(971);var r=s(1341),a=s(8711),i=s(1476),n=s.n(i),o=s(6915),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let c=["",{children:["difficulty",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,3317)),"C:\\Users\\ofema\\Aivo-v5.1\\apps\\parent-teacher-web\\app\\difficulty\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,8154)),"C:\\Users\\ofema\\Aivo-v5.1\\apps\\parent-teacher-web\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,971,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\ofema\\Aivo-v5.1\\apps\\parent-teacher-web\\app\\difficulty\\page.tsx"],u="/difficulty/page",p={require:s,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/difficulty/page",pathname:"/difficulty",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},873:(e,t,s)=>{Promise.resolve().then(s.bind(s,2976))},7094:(e,t,s)=>{Promise.resolve().then(s.bind(s,6680))},7879:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,498,23)),Promise.resolve().then(s.t.bind(s,5662,23)),Promise.resolve().then(s.t.bind(s,6642,23)),Promise.resolve().then(s.t.bind(s,7217,23)),Promise.resolve().then(s.t.bind(s,2828,23)),Promise.resolve().then(s.t.bind(s,5761,23))},2976:(e,t,s)=>{"use strict";s.d(t,{AuthProvider:()=>l,a:()=>c});var r=s(9731),a=s(7868),i=s(4724);let n=(0,a.createContext)(void 0),o=e=>(function(e){let t=process.env.NEXT_PUBLIC_API_BASE_URL||"http://localhost:4000";return new i.A(t,e)})(e),l=({children:e})=>{let[t,s]=(0,a.useState)({accessToken:null,user:null});(0,a.useEffect)(()=>{s({accessToken:null,user:null})},[]);let i=o((0,a.useCallback)(async()=>t.accessToken,[t.accessToken])),l=async(e,t)=>{let r=await fetch(`${process.env.NEXT_PUBLIC_API_BASE_URL||"http://localhost:4000"}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});if(!r.ok)throw Error(await r.text()||"Login failed");let a=await r.json();s({accessToken:a.accessToken,user:a.user})};return r.jsx(n.Provider,{value:{state:t,apiClient:i,login:l,logout:()=>{s({accessToken:null,user:null})}},children:e})};function c(){let e=(0,a.useContext)(n);if(!e)throw Error("useAuth must be used within AuthProvider");return e}},6680:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var r=s(9731),a=s(7868);let i=new(s(4724)).A("http://localhost:4000");function n(){let[e,t]=(0,a.useState)([]),[s,n]=(0,a.useState)(!1),[o,l]=(0,a.useState)(null);async function c(){n(!0);try{let e=await i.listDifficultyProposals("demo-learner");t(e.proposals)}finally{n(!1)}}async function d(e,t){l(e);try{await i.decideOnDifficultyProposal({proposalId:e,approve:t}),await c()}finally{l(null)}}return r.jsx("main",{className:"min-h-screen bg-slate-950 text-slate-50 flex items-center justify-center p-6",children:(0,r.jsxs)("section",{className:"w-full max-w-3xl rounded-2xl bg-slate-900/80 p-6 shadow-soft-coral",children:[r.jsx("h1",{className:"text-xl font-semibold mb-4",children:"Difficulty Change Requests"}),s&&r.jsx("p",{className:"text-sm text-slate-400 mb-2",children:"Loading…"}),0===e.length&&!s&&r.jsx("p",{className:"text-sm text-slate-400",children:"There are no difficulty change proposals for this learner yet."}),r.jsx("ul",{className:"space-y-3",children:e.map(e=>(0,r.jsxs)("li",{className:"rounded-xl bg-slate-800/70 p-4 border border-slate-700 flex flex-col gap-2",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"text-sm font-semibold",children:[e.subject.toUpperCase()," • ","harder"===e.direction?"Increase":"Decrease"," ","difficulty"]}),(0,r.jsxs)("p",{className:"text-xs text-slate-300",children:["From grade ",e.fromAssessedGradeLevel," to ",e.toAssessedGradeLevel]})]}),r.jsx("span",{className:`text-xs font-semibold rounded-pill px-2 py-1 ${"pending"===e.status?"bg-amber-500/20 text-amber-300":"approved"===e.status?"bg-emerald-500/20 text-emerald-300":"bg-red-500/20 text-red-300"}`,children:e.status.toUpperCase()})]}),(0,r.jsxs)("p",{className:"text-xs text-slate-300",children:["Reason: ",r.jsx("span",{className:"italic",children:e.rationale})]}),"pending"===e.status&&(0,r.jsxs)("div",{className:"flex gap-2 mt-2",children:[r.jsx("button",{disabled:o===e.id,onClick:()=>d(e.id,!0),className:"flex-1 rounded-pill bg-emerald-500 px-3 py-1.5 text-xs font-semibold text-slate-950 disabled:opacity-60",children:o===e.id?"Approving…":"Approve"}),r.jsx("button",{disabled:o===e.id,onClick:()=>d(e.id,!1),className:"flex-1 rounded-pill bg-red-500 px-3 py-1.5 text-xs font-semibold text-slate-50 disabled:opacity-60",children:o===e.id?"Rejecting…":"Reject"})]})]},e.id))})]})})}},4724:(e,t)=>{"use strict";t.A=void 0;class s{constructor(e,t){this.baseUrl=e,this.getToken=t}async request(e,t={}){let s=this.getToken?await this.getToken():null,r=await fetch(`${this.baseUrl}${e}`,{...t,headers:{"Content-Type":"application/json",...s?{Authorization:`Bearer ${s}`}:{},...t.headers||{}}});if(!r.ok){let e=await r.text();throw Error(`API error ${r.status}: ${e}`)}return r.json()}me(){return this.request("/me")}createLearner(e){return this.request("/learners",{method:"POST",body:JSON.stringify(e)})}getLearner(e){return this.request(`/learners/${e}`)}generateBaseline(e){return this.request("/baseline/generate",{method:"POST",body:JSON.stringify(e)})}submitBaselineResponses(e){return this.request("/baseline/submit",{method:"POST",body:JSON.stringify(e)})}createDifficultyProposal(e){return this.request("/difficulty/proposals",{method:"POST",body:JSON.stringify(e)})}decideOnDifficultyProposal(e){return this.request(`/difficulty/proposals/${e.proposalId}/decision`,{method:"POST",body:JSON.stringify({approve:e.approve,notes:e.notes})})}listDifficultyProposals(e){let t=new URLSearchParams({learnerId:e});return this.request(`/difficulty/proposals?${t.toString()}`)}generateLessonPlan(e){return this.request("/lessons/generate",{method:"POST",body:JSON.stringify(e)})}listTenants(){return this.request("/admin/tenants")}getTenantConfig(e){return this.request(`/admin/tenants/${e}`)}listDistricts(e){return this.request(`/admin/tenants/${e}/districts`)}listSchools(e,t){let s=new URLSearchParams({...t?{districtId:t}:{}}).toString(),r=s?`?${s}`:"";return this.request(`/admin/tenants/${e}/schools${r}`)}listRoleAssignments(e){return this.request(`/admin/tenants/${e}/roles`)}getTodaySession(e,t){let s=new URLSearchParams({learnerId:e,subject:t});return this.request(`/sessions/today?${s.toString()}`)}startSession(e){return this.request("/sessions/start",{method:"POST",body:JSON.stringify(e)})}updateActivityStatus(e){return this.request(`/sessions/${e.sessionId}/activities/${e.activityId}`,{method:"PATCH",body:JSON.stringify({status:e.status})})}getCaregiverLearnerOverview(e){return this.request(`/caregiver/learners/${e}/overview`)}listNotifications(){return this.request("/caregiver/notifications")}markNotificationRead(e){return this.request(`/caregiver/notifications/${e}/read`,{method:"POST"})}getLearnerAnalytics(e){return this.request(`/analytics/learners/${e}`)}getTenantAnalytics(e){return this.request(`/analytics/tenants/${e}`)}}t.A=s},3317:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>i,default:()=>o});var r=s(8208);let a=(0,r.createProxy)(String.raw`C:\Users\ofema\Aivo-v5.1\apps\parent-teacher-web\app\difficulty\page.tsx`),{__esModule:i,$$typeof:n}=a;a.default;let o=(0,r.createProxy)(String.raw`C:\Users\ofema\Aivo-v5.1\apps\parent-teacher-web\app\difficulty\page.tsx#default`)},8154:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var r=s(8661),a=s(8208);let i=(0,a.createProxy)(String.raw`C:\Users\ofema\Aivo-v5.1\apps\parent-teacher-web\app\AuthProvider.tsx`),{__esModule:n,$$typeof:o}=i;i.default;let l=(0,a.createProxy)(String.raw`C:\Users\ofema\Aivo-v5.1\apps\parent-teacher-web\app\AuthProvider.tsx#AuthProvider`);function c({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{children:r.jsx(l,{children:e})})})}(0,a.createProxy)(String.raw`C:\Users\ofema\Aivo-v5.1\apps\parent-teacher-web\app\AuthProvider.tsx#useAuth`)}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[228],()=>s(7213));module.exports=r})();