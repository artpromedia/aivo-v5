(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{512:function(e,t,s){Promise.resolve().then(s.bind(s,7814))},7814:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return c}});var r=s(266),n=s(7213),a=s(1076),i=s(5699),o=s(2014);let l=new i.A(o.env.NEXT_PUBLIC_API_BASE_URL||"http://localhost:4000");function c(){var e,t;let[s,i]=(0,a.useState)("parent"),[o,c]=(0,a.useState)("Loading learnerâ€¦");return(0,a.useEffect)(()=>{let e=!1;return(async()=>{try{let t=await l.me();if(e)return;t.learner?c("".concat(t.learner.displayName," (").concat(t.learner.id,")")):c(t.userId)}catch(t){e||c("Alex (demo-learner)")}})(),()=>{e=!0}},[]),(0,r.jsx)("main",{className:"min-h-screen bg-slate-950 text-slate-50 flex items-center justify-center p-6",children:(0,r.jsxs)("section",{className:"w-full max-w-3xl rounded-2xl bg-slate-900/80 p-6 shadow-soft-coral space-y-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-xl font-semibold",children:"parent"===s?"Parent Dashboard":"Teacher Dashboard"}),(0,r.jsxs)("p",{className:"text-xs text-slate-300 mt-1",children:["Viewing learner: ",(0,r.jsx)("span",{className:"font-semibold",children:o})]})]}),(0,r.jsxs)("div",{className:"inline-flex rounded-pill bg-slate-800 p-1",role:"tablist","aria-label":"Select dashboard role",children:[(0,r.jsx)("button",{role:"tab","aria-selected":"parent"===s,className:"px-3 py-1 text-xs font-semibold rounded-pill transition ".concat("parent"===s?"bg-coral text-white":"text-slate-400 hover:text-slate-100"),onClick:()=>i("parent"),children:"Parent"}),(0,r.jsx)("button",{role:"tab","aria-selected":"teacher"===s,className:"px-3 py-1 text-xs font-semibold rounded-pill transition ".concat("teacher"===s?"bg-coral text-white":"text-slate-400 hover:text-slate-100"),onClick:()=>i("teacher"),children:"Teacher"})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:["parent"===s?(0,r.jsx)("p",{className:"text-sm text-slate-200",children:"As a parent, you can view your child's progress, approve difficulty increases, and adjust accommodations."}):(0,r.jsx)("p",{className:"text-sm text-slate-200",children:"As a teacher, you can monitor your learners, assign scaffolds, and coordinate with parents and admins."}),(0,r.jsxs)("div",{className:"mt-2 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 rounded-2xl bg-slate-950/70 border border-slate-800 p-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs font-semibold text-slate-200",children:"Learner overview"}),(0,r.jsxs)("p",{className:"text-[11px] text-slate-400 mt-1",children:["Jump into a calm summary of ",o,"'s levels, baseline, and any pending difficulty approvals."]})]}),(0,r.jsx)(n.default,{href:{pathname:"/learner",query:{learnerId:null!==(t=null===(e=o.match(/\((.+)\)$/))||void 0===e?void 0:e[1])&&void 0!==t?t:void 0}},className:"inline-flex items-center justify-center rounded-pill bg-coral px-4 py-2 text-xs font-semibold text-slate-950 shadow-sm hover:brightness-110 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-coral/80",children:"Open learner overview"})]})]})]})})}},5699:function(e,t){"use strict";t.A=void 0;class s{async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=this.getToken?await this.getToken():null,r=await fetch("".concat(this.baseUrl).concat(e),{...t,headers:{"Content-Type":"application/json",...s?{Authorization:"Bearer ".concat(s)}:{},...t.headers||{}}});if(!r.ok){let e=await r.text();throw Error("API error ".concat(r.status,": ").concat(e))}return r.json()}me(){return this.request("/me")}createLearner(e){return this.request("/learners",{method:"POST",body:JSON.stringify(e)})}getLearner(e){return this.request("/learners/".concat(e))}generateBaseline(e){return this.request("/baseline/generate",{method:"POST",body:JSON.stringify(e)})}submitBaselineResponses(e){return this.request("/baseline/submit",{method:"POST",body:JSON.stringify(e)})}createDifficultyProposal(e){return this.request("/difficulty/proposals",{method:"POST",body:JSON.stringify(e)})}decideOnDifficultyProposal(e){return this.request("/difficulty/proposals/".concat(e.proposalId,"/decision"),{method:"POST",body:JSON.stringify({approve:e.approve,notes:e.notes})})}listDifficultyProposals(e){let t=new URLSearchParams({learnerId:e});return this.request("/difficulty/proposals?".concat(t.toString()))}generateLessonPlan(e){return this.request("/lessons/generate",{method:"POST",body:JSON.stringify(e)})}listTenants(){return this.request("/admin/tenants")}getTenantConfig(e){return this.request("/admin/tenants/".concat(e))}listDistricts(e){return this.request("/admin/tenants/".concat(e,"/districts"))}listSchools(e,t){let s=new URLSearchParams({...t?{districtId:t}:{}}).toString();return this.request("/admin/tenants/".concat(e,"/schools").concat(s?"?".concat(s):""))}listRoleAssignments(e){return this.request("/admin/tenants/".concat(e,"/roles"))}getTodaySession(e,t){let s=new URLSearchParams({learnerId:e,subject:t});return this.request("/sessions/today?".concat(s.toString()))}startSession(e){return this.request("/sessions/start",{method:"POST",body:JSON.stringify(e)})}updateActivityStatus(e){return this.request("/sessions/".concat(e.sessionId,"/activities/").concat(e.activityId),{method:"PATCH",body:JSON.stringify({status:e.status})})}getCaregiverLearnerOverview(e){return this.request("/caregiver/learners/".concat(e,"/overview"))}listNotifications(){return this.request("/caregiver/notifications")}markNotificationRead(e){return this.request("/caregiver/notifications/".concat(e,"/read"),{method:"POST"})}getLearnerAnalytics(e){return this.request("/analytics/learners/".concat(e))}getTenantAnalytics(e){return this.request("/analytics/tenants/".concat(e))}constructor(e,t){this.baseUrl=e,this.getToken=t}}t.A=s}},function(e){e.O(0,[247,321,985,744],function(){return e(e.s=512)}),_N_E=e.O()}]);