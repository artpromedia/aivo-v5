(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[471],{9663:function(e,t,s){Promise.resolve().then(s.bind(s,2997))},2997:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return i}});var r=s(266),n=s(1076);let a=new(s(5699)).A("http://localhost:4000");function i(){let[e,t]=(0,n.useState)([]),[s,i]=(0,n.useState)(!1),[o,l]=(0,n.useState)(null);async function c(){i(!0);try{let e=await a.listDifficultyProposals("demo-learner");t(e.proposals)}finally{i(!1)}}async function d(e,t){l(e);try{await a.decideOnDifficultyProposal({proposalId:e,approve:t}),await c()}finally{l(null)}}return(0,n.useEffect)(()=>{c()},[]),(0,r.jsx)("main",{className:"min-h-screen bg-slate-950 text-slate-50 flex items-center justify-center p-6",children:(0,r.jsxs)("section",{className:"w-full max-w-3xl rounded-2xl bg-slate-900/80 p-6 shadow-soft-coral",children:[(0,r.jsx)("h1",{className:"text-xl font-semibold mb-4",children:"Difficulty Change Requests"}),s&&(0,r.jsx)("p",{className:"text-sm text-slate-400 mb-2",children:"Loading…"}),0===e.length&&!s&&(0,r.jsx)("p",{className:"text-sm text-slate-400",children:"There are no difficulty change proposals for this learner yet."}),(0,r.jsx)("ul",{className:"space-y-3",children:e.map(e=>(0,r.jsxs)("li",{className:"rounded-xl bg-slate-800/70 p-4 border border-slate-700 flex flex-col gap-2",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"text-sm font-semibold",children:[e.subject.toUpperCase()," • ","harder"===e.direction?"Increase":"Decrease"," ","difficulty"]}),(0,r.jsxs)("p",{className:"text-xs text-slate-300",children:["From grade ",e.fromAssessedGradeLevel," to ",e.toAssessedGradeLevel]})]}),(0,r.jsx)("span",{className:"text-xs font-semibold rounded-pill px-2 py-1 ".concat("pending"===e.status?"bg-amber-500/20 text-amber-300":"approved"===e.status?"bg-emerald-500/20 text-emerald-300":"bg-red-500/20 text-red-300"),children:e.status.toUpperCase()})]}),(0,r.jsxs)("p",{className:"text-xs text-slate-300",children:["Reason: ",(0,r.jsx)("span",{className:"italic",children:e.rationale})]}),"pending"===e.status&&(0,r.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,r.jsx)("button",{disabled:o===e.id,onClick:()=>d(e.id,!0),className:"flex-1 rounded-pill bg-emerald-500 px-3 py-1.5 text-xs font-semibold text-slate-950 disabled:opacity-60",children:o===e.id?"Approving…":"Approve"}),(0,r.jsx)("button",{disabled:o===e.id,onClick:()=>d(e.id,!1),className:"flex-1 rounded-pill bg-red-500 px-3 py-1.5 text-xs font-semibold text-slate-50 disabled:opacity-60",children:o===e.id?"Rejecting…":"Reject"})]})]},e.id))})]})})}},5699:function(e,t){"use strict";t.A=void 0;class s{async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=this.getToken?await this.getToken():null,r=await fetch("".concat(this.baseUrl).concat(e),{...t,headers:{"Content-Type":"application/json",...s?{Authorization:"Bearer ".concat(s)}:{},...t.headers||{}}});if(!r.ok){let e=await r.text();throw Error("API error ".concat(r.status,": ").concat(e))}return r.json()}me(){return this.request("/me")}createLearner(e){return this.request("/learners",{method:"POST",body:JSON.stringify(e)})}getLearner(e){return this.request("/learners/".concat(e))}generateBaseline(e){return this.request("/baseline/generate",{method:"POST",body:JSON.stringify(e)})}submitBaselineResponses(e){return this.request("/baseline/submit",{method:"POST",body:JSON.stringify(e)})}createDifficultyProposal(e){return this.request("/difficulty/proposals",{method:"POST",body:JSON.stringify(e)})}decideOnDifficultyProposal(e){return this.request("/difficulty/proposals/".concat(e.proposalId,"/decision"),{method:"POST",body:JSON.stringify({approve:e.approve,notes:e.notes})})}listDifficultyProposals(e){let t=new URLSearchParams({learnerId:e});return this.request("/difficulty/proposals?".concat(t.toString()))}generateLessonPlan(e){return this.request("/lessons/generate",{method:"POST",body:JSON.stringify(e)})}listTenants(){return this.request("/admin/tenants")}getTenantConfig(e){return this.request("/admin/tenants/".concat(e))}listDistricts(e){return this.request("/admin/tenants/".concat(e,"/districts"))}listSchools(e,t){let s=new URLSearchParams({...t?{districtId:t}:{}}).toString();return this.request("/admin/tenants/".concat(e,"/schools").concat(s?"?".concat(s):""))}listRoleAssignments(e){return this.request("/admin/tenants/".concat(e,"/roles"))}getTodaySession(e,t){let s=new URLSearchParams({learnerId:e,subject:t});return this.request("/sessions/today?".concat(s.toString()))}startSession(e){return this.request("/sessions/start",{method:"POST",body:JSON.stringify(e)})}updateActivityStatus(e){return this.request("/sessions/".concat(e.sessionId,"/activities/").concat(e.activityId),{method:"PATCH",body:JSON.stringify({status:e.status})})}getCaregiverLearnerOverview(e){return this.request("/caregiver/learners/".concat(e,"/overview"))}listNotifications(){return this.request("/caregiver/notifications")}markNotificationRead(e){return this.request("/caregiver/notifications/".concat(e,"/read"),{method:"POST"})}getLearnerAnalytics(e){return this.request("/analytics/learners/".concat(e))}getTenantAnalytics(e){return this.request("/analytics/tenants/".concat(e))}constructor(e,t){this.baseUrl=e,this.getToken=t}}t.A=s}},function(e){e.O(0,[321,985,744],function(){return e(e.s=9663)}),_N_E=e.O()}]);