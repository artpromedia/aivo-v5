(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[850],{8689:function(e,t,s){Promise.resolve().then(s.bind(s,6321))},6321:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return c}});var n=s(266),a=s(1076);let r=new(s(5699)).A("http://localhost:4000",async()=>null),i="tenant-1";function c(){let[e,t]=(0,a.useState)(null),[s,c]=(0,a.useState)([]),[l,o]=(0,a.useState)([]),[d,u]=(0,a.useState)(!1),[h,m]=(0,a.useState)(null);async function x(){u(!0),m(null);try{let[e,s,n]=await Promise.all([r.getTenantConfig(i),r.listDistricts(i),r.listSchools(i)]);t(e),c(s.districts),o(n.schools)}catch(e){m(e.message)}finally{u(!1)}}(0,a.useEffect)(()=>{x()},[]);let f=l.length;return(0,n.jsx)("main",{className:"min-h-screen bg-slate-950 text-slate-50 p-6",children:(0,n.jsxs)("section",{className:"max-w-6xl mx-auto space-y-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-2xl font-semibold mb-2",children:"District Admin – Overview"}),(0,n.jsx)("p",{className:"text-sm text-slate-300",children:"View your district's schools and curriculum configuration."})]}),d&&(0,n.jsx)("p",{className:"text-sm text-slate-400",children:"Loading…"}),h&&(0,n.jsxs)("p",{className:"text-sm text-red-400",children:["Error: ",h]}),e&&(0,n.jsxs)("section",{className:"rounded-2xl bg-slate-900/80 border border-slate-800 p-4",children:[(0,n.jsx)("h2",{className:"text-sm font-semibold mb-1",children:"Tenant"}),(0,n.jsx)("p",{className:"text-sm",children:e.tenant.name}),(0,n.jsxs)("p",{className:"text-xs text-slate-400 mt-1",children:["Region: ",e.tenant.region," • Type: ",e.tenant.type]}),(0,n.jsxs)("div",{className:"mt-3",children:[(0,n.jsx)("h3",{className:"text-xs font-semibold text-slate-300 mb-1",children:"Active Curricula"}),(0,n.jsx)("ul",{className:"space-y-1",children:e.config.curricula.map(e=>(0,n.jsxs)("li",{className:"text-xs text-slate-300",children:[(0,n.jsx)("span",{className:"font-medium",children:e.label})," – ",e.region," (",e.standard,")"]},e.id))})]})]}),(0,n.jsxs)("section",{className:"grid gap-4 md:grid-cols-2",children:[(0,n.jsxs)("div",{className:"rounded-2xl bg-slate-900/80 border border-slate-800 p-4",children:[(0,n.jsx)("h2",{className:"text-sm font-semibold mb-2",children:"Districts"}),0===s.length&&(0,n.jsx)("p",{className:"text-xs text-slate-400",children:"No districts configured."}),(0,n.jsx)("ul",{className:"space-y-2",children:s.map(e=>(0,n.jsxs)("li",{className:"text-xs text-slate-300",children:[(0,n.jsx)("span",{className:"font-medium",children:e.name})," – ",e.country]},e.id))})]}),(0,n.jsxs)("div",{className:"rounded-2xl bg-slate-900/80 border border-slate-800 p-4",children:[(0,n.jsxs)("h2",{className:"text-sm font-semibold mb-2",children:["Schools ",(0,n.jsxs)("span",{className:"text-xs text-slate-400",children:["(",f,")"]})]}),0===l.length&&(0,n.jsx)("p",{className:"text-xs text-slate-400",children:"No schools configured."}),(0,n.jsx)("ul",{className:"space-y-2",children:l.map(e=>(0,n.jsxs)("li",{className:"text-xs text-slate-300",children:[(0,n.jsx)("span",{className:"font-medium",children:e.name}),e.city?(0,n.jsxs)("span",{className:"text-slate-400",children:[" – ",e.city]}):null]},e.id))})]})]})]})})}},5699:function(e,t){"use strict";t.A=void 0;class s{async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=this.getToken?await this.getToken():null,n=await fetch("".concat(this.baseUrl).concat(e),{...t,headers:{"Content-Type":"application/json",...s?{Authorization:"Bearer ".concat(s)}:{},...t.headers||{}}});if(!n.ok){let e=await n.text();throw Error("API error ".concat(n.status,": ").concat(e))}return n.json()}me(){return this.request("/me")}createLearner(e){return this.request("/learners",{method:"POST",body:JSON.stringify(e)})}getLearner(e){return this.request("/learners/".concat(e))}generateBaseline(e){return this.request("/baseline/generate",{method:"POST",body:JSON.stringify(e)})}submitBaselineResponses(e){return this.request("/baseline/submit",{method:"POST",body:JSON.stringify(e)})}createDifficultyProposal(e){return this.request("/difficulty/proposals",{method:"POST",body:JSON.stringify(e)})}decideOnDifficultyProposal(e){return this.request("/difficulty/proposals/".concat(e.proposalId,"/decision"),{method:"POST",body:JSON.stringify({approve:e.approve,notes:e.notes})})}listDifficultyProposals(e){let t=new URLSearchParams({learnerId:e});return this.request("/difficulty/proposals?".concat(t.toString()))}generateLessonPlan(e){return this.request("/lessons/generate",{method:"POST",body:JSON.stringify(e)})}listTenants(){return this.request("/admin/tenants")}getTenantConfig(e){return this.request("/admin/tenants/".concat(e))}listDistricts(e){return this.request("/admin/tenants/".concat(e,"/districts"))}listSchools(e,t){let s=new URLSearchParams({...t?{districtId:t}:{}}).toString();return this.request("/admin/tenants/".concat(e,"/schools").concat(s?"?".concat(s):""))}listRoleAssignments(e){return this.request("/admin/tenants/".concat(e,"/roles"))}getTodaySession(e,t){let s=new URLSearchParams({learnerId:e,subject:t});return this.request("/sessions/today?".concat(s.toString()))}startSession(e){return this.request("/sessions/start",{method:"POST",body:JSON.stringify(e)})}updateActivityStatus(e){return this.request("/sessions/".concat(e.sessionId,"/activities/").concat(e.activityId),{method:"PATCH",body:JSON.stringify({status:e.status})})}getCaregiverLearnerOverview(e){return this.request("/caregiver/learners/".concat(e,"/overview"))}listNotifications(){return this.request("/caregiver/notifications")}markNotificationRead(e){return this.request("/caregiver/notifications/".concat(e,"/read"),{method:"POST"})}getLearnerAnalytics(e){return this.request("/analytics/learners/".concat(e))}getTenantAnalytics(e){return this.request("/analytics/tenants/".concat(e))}constructor(e,t){this.baseUrl=e,this.getToken=t}}t.A=s}},function(e){e.O(0,[321,985,744],function(){return e(e.s=8689)}),_N_E=e.O()}]);